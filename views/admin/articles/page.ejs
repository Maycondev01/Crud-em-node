<%- include('../../partials/header.ejs') %>
<%- include('../../partials/homenavbar.ejs') %>
<body>
    <div class="container">
        <hr>
        <% result.articles.rows.forEach(article => { %> 
            <!--usando linhas de result e articles-->
            <div class="card">
                <div class="card-header">
                    <h2><%= article.title %></h2> 
                </div>
                <div class="card-body">
                    <a href="/<%= article.slug%>" class="btn btn-success">Ler Artigo</a>
                </div>
            </div>
        <% }) %>

        <div class="row">
            <div class="col col-12">
                <% if(result.page > 2) { %> <!--Se page for maior que 2 então voltar 1 página-->
                    <a style="float:left" href="/articles/page/<%= result.page - 1 %>"> <<< Prev</a>
                <% } else if(result.page == 2) { %> <!--Se page for igual 2 então voltar para página principal-->
                    <a style="float:left" href="/"> <<< Prev</a>
                <% } %>


                <% if(result.next) { %> <!--Se resultado next = true, então: Next + 1-->
                    <a style="float: right;" href="/articles/page/<%= result.page + 1%>">Next >>></a>
                <% } %>

            </div>
            <hr>
        </div>
    </div>
</body>
<%- include('../../partials/footer.ejs') %>